class TimeAgo{static cssTooltip=!0;static formatter=new Intl.RelativeTimeFormat("en",{numeric:"auto"});static#t(t,e,i){let o=0;switch(i){case"second":o=1e3;break;case"minute":o=60100;break;case"hour":o=61e3;break;case"day":o=602e3;break}return i==="year"?e=Math.round(e*10)/10:e=Math.round(e),t||(e=-e),{refresh:o,textContent:this.formatter.format(e,i)}}static#i(t){let e=new Date,i=e.getTime()-t,o=!1;i<0&&(i=-i,o=!0);const a=i/1e3;if(a<60)return this.#t(o,a,"second");const n=a/60;if(n<60)return this.#t(o,n,"minute");const c=n/60;if(c<24)return this.#t(o,c,"hour");const l=c/24;if(l<31)return this.#t(o,l,"day");let s=new Date(t);o&&([s,e]=[e,s]);let r=(e.getFullYear()-s.getFullYear())*12;if(r+=e.getMonth()-s.getMonth(),r<18)return this.#t(o,r,"month");const h=r/12;return this.#t(o,h,"year")}static datetime(t){return new Date(this.#o(t)?t.dateTime:t.dataset.time)}static#o(t){return t.tagName==="TIME"||t.tagName==="RELATIVE-TIME"}static init(t){const e=this.datetime(t);t._timeago=e;let i;const o=e.toLocaleDateString("en-GB",{day:"2-digit",timeZoneName:"short"}).substring(4);e%864e5===0?i=e.toLocaleDateString("en-GB",{dateStyle:"long",timeZone:"UTC"})+` UTC
`+e.toLocaleDateString("en-GB",{dateStyle:"long"})+" "+o:i=e.toLocaleString("en-GB",{dateStyle:"long",timeStyle:"medium",hourCycle:"h23",timeZone:"UTC"})+` UTC
`+e.toLocaleString("en-GB",{dateStyle:"long",timeStyle:"medium",hourCycle:"h23"})+" "+o,this.cssTooltip?(t.setAttribute("aria-label",i),t.classList.add("tooltipped","tooltipped-n"),t.addEventListener("pointerenter",this.#n,{passive:!0})):t.title=i,this.#e(t)}static#n(t){const e=t.target,i=e.getBoundingClientRect(),o=document.documentElement.clientWidth,a=i.left+i.width/2;let n="tooltipped-n";a<150&&(n="tooltipped-ne"),(o-a<150||e.classList.contains("future-sale-time"))&&(n="tooltipped-nw"),e.classList.contains(n)||(e.classList.remove("tooltipped-n","tooltipped-nw","tooltipped-ne"),e.classList.add(n))}static#e(t){t._timeagoInterval&&clearTimeout(t._timeagoInterval);const e=t._timeago.getTime(),i=this.#i(e);t.textContent=i.textContent,i.refresh&&(t._timeagoInterval=setTimeout(()=>{if(!document.documentElement.contains(t)){t._timeago=null,t._timeagoInterval=null;return}this.#e(t)},i.refresh))}}class RelativeTime extends HTMLElement{_timeago=null;_timeagoInterval=0;#t=this.shadowRoot?this.shadowRoot:this.attachShadow?this.attachShadow({mode:"open"}):this;get dateTime(){return this.getAttribute("datetime")}get textContent(){return this.#t.textContent}set textContent(t){this.#t.textContent=t}connectedCallback(){TimeAgo.init(this)}disconnectedCallback(){this._timeagoInterval>0&&clearTimeout(this._timeagoInterval)}}customElements.define("relative-time",RelativeTime);
